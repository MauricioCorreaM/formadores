<?php

namespace Database\Seeders;

use App\Models\Campus;
use App\Models\Focalization;
use App\Models\School;
use Illuminate\Database\Seeder;

class CampusSeeder extends Seeder
{
    public function run(): void
    {
        $data = [
            ['105001000396', 'INSTITUCION EDUCATIVA JOSE ACEVEDO Y GOMEZ', '105001000396', 'INSTITUCION EDUCATIVA JOSE ACEVEDO Y GOMEZ', 'URBANA', 'AUDIOVISUALES'],
            ['105001000396', 'INSTITUCION EDUCATIVA JOSE ACEVEDO Y GOMEZ', '105001000477', 'SECCION ESCUELA REPUBLICA DE COSTA RICA', 'URBANA', 'AUDIOVISUALES'],
            ['105001000396', 'INSTITUCION EDUCATIVA JOSE ACEVEDO Y GOMEZ', '105001008231', 'SECCION ESCUELA LA COLINA', 'URBANA', 'AUDIOVISUALES'],
            ['105001000396', 'INSTITUCION EDUCATIVA JOSE ACEVEDO Y GOMEZ', '105001015105', 'SECCION ESCUELA GABRIELA MISTRAL', 'URBANA', 'AUDIOVISUALES'],
            ['105001001236', 'INSTITUCION EDUCATIVA MONTECARLO GUILLERMO GAVIRIA CORREA', '105001001236', 'INSTITUCION EDUCATIVA MONTECARLO GUILLERMO GAVIRIA CORREA', 'URBANA', 'LITERATURA'],
            ['105001002038', 'INSTITUCION EDUCATIVA JOSE EUSEBIO CARO', '105001002038', 'INSTITUCION EDUCATIVA JOSE EUSEBIO CARO', 'URBANA', 'LITERATURA'],
            ['105001008249', 'INSTITUCION EDUCATIVA BELLO HORIZONTE', '105001008249', 'INSTITUCION EDUCATIVA BELLO HORIZONTE', 'URBANA', 'MÚSICA'],
            ['105001010588', 'INSTITUCION EDUCATIVA FE Y ALEGRIA LA CIMA', '105001000078', 'SECCION ESCUELA LA CIMA SAN JOSE', 'URBANA', 'DANZA'],
            ['105001010588', 'INSTITUCION EDUCATIVA FE Y ALEGRIA LA CIMA', '105001005860', 'SECCION ESCUELA FE Y ALEGRIA NO. 3', 'URBANA', 'DANZA'],
            ['105001010588', 'INSTITUCION EDUCATIVA FE Y ALEGRIA LA CIMA', '105001010588', 'INSTITUCION EDUCATIVA FE Y ALEGRIA LA CIMA', 'URBANA', 'DANZA'],
            ['105001012106', 'INSTITUCION EDUCATIVA JUAN MARIA CESPEDES', '105001012106', 'INSTITUCION EDUCATIVA JUAN MARIA CESPEDES', 'URBANA', 'LITERATURA'],
            ['105001012106', 'INSTITUCION EDUCATIVA JUAN MARIA CESPEDES', '105001800163', 'SECCION ESCUELA LAS PLAYAS', 'URBANA', 'LITERATURA'],
            ['105001013340', 'INSTITUCION EDUCATIVA INEM JOSE FELIX DE RESTREPO', '105001000272', 'SECCION ESCUELA GUILLERMO ECHAVARRIA MISAS', 'URBANA', 'AUDIOVISUALES'],
            ['105001013340', 'INSTITUCION EDUCATIVA INEM JOSE FELIX DE RESTREPO', '105001013340', 'INSTITUCION EDUCATIVA INEM JOSE FELIX DE RESTREPO', 'URBANA', 'AUDIOVISUALES'],
            ['105001015172', 'INSTITUCION EDUCATIVA EDUARDO SANTOS', '105001006530', 'SECCION ESCUELA  PEDRO J GOMEZ', 'URBANA', 'MÚSICA'],
            ['105001015172', 'INSTITUCION EDUCATIVA EDUARDO SANTOS', '105001015172', 'INSTITUCION EDUCATIVA EDUARDO SANTOS', 'URBANA', 'MÚSICA'],
            ['105001021873', 'INSTITUCION EDUCATIVA SOL DE ORIENTE', '105001016462', 'SECCION ESCUELA BEATO DOMINGO ITURRATE', 'URBANA', 'LITERATURA'],
            ['105001021873', 'INSTITUCION EDUCATIVA SOL DE ORIENTE', '105001021873', 'INSTITUCION EDUCATIVA SOL DE ORIENTE', 'URBANA', 'LITERATURA'],
            ['105088000532', 'INSTITUCION EDUCATIVA LA MILAGROSA', '105088000532', 'INSTITUCION EDUCATIVA LA MILAGROSA', 'URBANA', 'TEATRO'],
            ['105088001971', 'INSTITUCION EDUCATIVA JOSEFA CAMPOS', '105088001733', 'ESC URB FE Y ALEGRIA NO 2', 'URBANA', 'MÚSICA'],
            ['105088001971', 'INSTITUCION EDUCATIVA JOSEFA CAMPOS', '105088001971', 'INSTITUCION EDUCATIVA JOSEFA CAMPOS', 'URBANA', 'MÚSICA'],
            ['105088002918', 'INSTITUCION EDUCATIVA FONTIDUEÑO JAIME ARANGO ROJAS', '105088000176', 'ESC URB MACHADO', 'URBANA', 'MÚSICA'],
            ['105088002918', 'INSTITUCION EDUCATIVA FONTIDUEÑO JAIME ARANGO ROJAS', '105088000397', 'ESC URB FONTIDUEÑO', 'URBANA', 'MÚSICA'],
            ['105088002918', 'INSTITUCION EDUCATIVA FONTIDUEÑO JAIME ARANGO ROJAS', '105088002918', 'INSTITUCION EDUCATIVA FONTIDUEÑO JAIME ARANGO ROJAS', 'URBANA', 'MÚSICA'],
            ['105088002918', 'INSTITUCION EDUCATIVA FONTIDUEÑO JAIME ARANGO ROJAS', '105088003175', 'I.E.  DE TRABAJO SAN JOSE - SEDE PRINCIPAL', 'URBANA', 'MÚSICA'],
            ['105380000063', 'I. E. BERNARDO ARANGO MACIAS', '105380000063', 'I. E. BERNARDO ARANGO MACIAS', 'URBANA', 'MÚSICA'],
            ['105380000063', 'I. E. BERNARDO ARANGO MACIAS', '205380019567', 'RAFAEL POMBO', 'URBANA', 'MÚSICA'],
            ['105380000063', 'I. E. BERNARDO ARANGO MACIAS', '205380019575', 'MANUELA BELTRAN', 'URBANA', 'MÚSICA'],
            ['105380000527', 'I. E. CONCEJO MUNICIPAL', '105380000527', 'I. E. CONCEJO MUNICIPAL', 'URBANA', 'MÚSICA'],
            ['105631000084', 'I. E. JOSE FELIX DE RESTREPO VELEZ', '105631000084', 'I. E. JOSE FELIX DE RESTREPO VELEZ', 'URBANA', 'MÚSICA'],
            ['205001006232', 'INSTITUCION EDUCATIVA SAN CRISTOBAL', '205001006232', 'INSTITUCION EDUCATIVA SAN CRISTOBAL', 'URBANA', 'LITERATURA'],
            ['205631000020', 'I. E. PRIMITIVO LEAL LA DOCTORA', '205631000020', 'COLEGIO LA DOCTORA', 'RURAL', 'TEATRO'],
            ['205631000020', 'I. E. PRIMITIVO LEAL LA DOCTORA', '205631000186', 'E R LAS LOMITAS (UNIT)', 'RURAL', 'TEATRO'],
            ['205631000267', 'I. E. PRESBITERO ANTONIO BAENA SALAZAR', '205631000267', 'I. E. PRESBITERO ANTONIO BAENA SALAZAR', 'RURAL', 'MÚSICA'],
            ['305088002950', 'INSTITUCION EDUCATIVA LICEO ANTIOQUEÑO', '105088001938', 'ESC URB DE VARONES AVENIDAS', 'URBANA', 'MÚSICA'],
            ['305088002950', 'INSTITUCION EDUCATIVA LICEO ANTIOQUEÑO', '305088002950', 'INSTITUCION EDUCATIVA LICEO NTIOQUEÑO', 'URBANA', 'MÚSICA'],
            ['105030000010', 'I. E. ESCUELA NORMAL SUPERIOR AMAGA', '105030000010', 'ESCUELA NORMAL SUPERIOR VICTORIANO TORO ECHEVERRI-AMAGA', 'URBANA', 'MÚSICA'],
            ['105030000010', 'I. E. ESCUELA NORMAL SUPERIOR AMAGA', '105030000206', 'E U MARIA AUXILIADORA', 'URBANA', 'MÚSICA'],
            ['105030000010', 'I. E. ESCUELA NORMAL SUPERIOR AMAGA', '205030000031', 'C. E. R. TRAVESIAS', 'RURAL', 'MÚSICA'],
            ['105030000010', 'I. E. ESCUELA NORMAL SUPERIOR AMAGA', '205030000316', 'C. E. R. MALABRIGO', 'RURAL', 'MÚSICA'],
            ['105030000028', 'I. E. SAN FERNANDO', '105030000028', 'COLEGIO SAN FERNANDO', 'URBANA', 'MÚSICA'],
            ['105030000028', 'I. E. SAN FERNANDO', '105030000214', 'ALEJANDRO TORO', 'URBANA', 'MÚSICA'],
            ['105030000028', 'I. E. SAN FERNANDO', '205030000081', 'PUEBLITO DE LOS SANCHEZ', 'RURAL', 'MÚSICA'],
            ['105030000028', 'I. E. SAN FERNANDO', '205030000197', 'CAÑAVERAL SAN JOSE', 'RURAL', 'MÚSICA'],
            ['105036000097', 'INSTITUCION EDUCATIVA SAN JOSE', '105036000097', 'I. E. SAN JOSE', 'URBANA', 'MÚSICA'],
            ['105129000089', 'INSTITUCION EDUCATIVA GABRIEL ECHAVARRIA', '105129000089', 'I. E. GABRIEL ECHAVARRIA', 'URBANA', 'MÚSICA'],
            ['105129000208', 'INSTITUCION EDUCATIVA MARIA AUXILIADORA', '105129000208', 'I. E. MARIA AUXILIADORA', 'URBANA', 'MÚSICA'],
            ['105129000208', 'INSTITUCION EDUCATIVA MARIA AUXILIADORA', '105129000453', 'SANTA INES', 'URBANA', 'MÚSICA'],
            ['105266000428', 'INSTITUCION EDUCATIVA MARIA POUSSEPIN', '105266000428', 'INSTITUCION EDUCATIVA MARIA POUSSEPIN', 'URBANA', 'MÚSICA'],
            ['105266000452', 'INSTITUCION EDUCATIVA LA PAZ', '105266000274', 'ESCUELA JOHN F KENNEDY', 'URBANA', 'AUDIOVISUALES'],
            ['105266000452', 'INSTITUCION EDUCATIVA LA PAZ', '105266000452', 'INSTITUCION EDUCATIVA LA PAZ', 'URBANA', 'AUDIOVISUALES'],
            ['105266000452', 'INSTITUCION EDUCATIVA LA PAZ', '105266000681', 'ESCUELA EL TRIANON', 'URBANA', 'AUDIOVISUALES'],
            ['105266000461', 'I.E. NORMAL SUPERIOR DE ENVIGADO', '105266000461', 'I.E. NORMAL SUPERIOR DE ENVIGADO - SEDE PRINCIPAL', 'URBANA', 'DANZA'],
            ['105266000924', 'INSTITUCION EDUCATIVA COMERCIAL DE ENVIGADO', '105266000169', 'ESCUELA PIO XII', 'URBANA', 'LITERATURA'],
            ['105266000924', 'INSTITUCION EDUCATIVA COMERCIAL DE ENVIGADO', '105266000924', 'INSTITUCION EDUCATIVA COMERCIAL DE ENVIGADO', 'URBANA', 'LITERATURA'],
            ['105266000924', 'INSTITUCION EDUCATIVA COMERCIAL DE ENVIGADO', '105266001157', 'ESCUELA URBANA SAN RAFAEL', 'URBANA', 'LITERATURA'],
            ['105266001203', 'INSTITUCI¿N EDUCATIVA EL SALADO', '105266001203', 'INSTITUCION EDUCATIVA EL SALADO', 'URBANA', 'LITERATURA'],
            ['105360000253', 'INSTITUCION EDUCATIVA ESTEBAN OCHOA', '105360000253', 'INSTITUCION EDUCATIVA ESTEBAN OCHOA', 'URBANA', 'LITERATURA'],
            ['105360000253', 'INSTITUCION EDUCATIVA ESTEBAN OCHOA', '105360001381', 'INSTITUCIÓN EDUCATIVA ESTEBAN OCHOA-SEDE GERMAN RESTREPO', 'URBANA', 'LITERATURA'],
            ['105360000253', 'INSTITUCION EDUCATIVA ESTEBAN OCHOA', '105360002698', 'INSTITUCIÓN EDUCATIVA ESTEBAN OCHOA-SEDE BARRIO TRIANA', 'URBANA', 'LITERATURA'],
            ['105360000415', 'INSTITUCIÓN EDUCATIVA JUAN NEPOMUCENO CADAVID', '105360000415', 'INSTITUCION EDUCATIVA JUAN NEPOMUCENO CADAVID - SEDE PRINCIPAL', 'URBANA', 'MÚSICA'],
            ['105360000474', 'INSTITUCION EDUCATIVA FELIPE DE RESTREPO', '105360000474', 'INSTITUCION EDUCATIVA FELIPE DE RESTREPO', 'URBANA', 'DANZA'],
            ['105360000491', 'INSTITUCIÓN EDUCATIVA ORESTE SINDICI', '105360000491', 'INSTITUCION EDUCATIVA ORESTE SINDICI', 'URBANA', 'LITERATURA'],
            ['105809000016', 'I. E. SANTO TOMAS DE AQUINO', '105809000016', 'COLEGIO SANTO TOMAS DE AQUINO', 'URBANA', 'MÚSICA'],
            ['105809000016', 'I. E. SANTO TOMAS DE AQUINO', '105809000181', 'E U EVANGELINA BETANCUR', 'URBANA', 'MÚSICA'],
            ['205001012534', 'INSTITUCION EDUCATIVA SAN ANTONIO DE PRADO', '205001003411', 'SECCION ESCUELA CARLOS BETANCUR BETANCUR', 'URBANA', 'LITERATURA'],
            ['205001012534', 'INSTITUCION EDUCATIVA SAN ANTONIO DE PRADO', '205001012534', 'INSTITUCION EDUCATIVA SAN ANTONIO DE PRADO', 'URBANA', 'LITERATURA'],
            ['205001012534', 'INSTITUCION EDUCATIVA SAN ANTONIO DE PRADO', '205001014421', 'SECCION ESCUELA MANUEL MARIA MALLARINO', 'URBANA', 'LITERATURA'],
            ['205036000083', 'INSTITUCION EDUCATIVA LOS ANGELES', '205036000024', 'C. E. R. LA CASCAJALA', 'RURAL', 'MÚSICA'],
            ['205036000083', 'INSTITUCION EDUCATIVA LOS ANGELES', '205036000041', 'CIENAGUITA', 'RURAL', 'MÚSICA'],
            ['205036000083', 'INSTITUCION EDUCATIVA LOS ANGELES', '205036000075', 'SANTA RITA', 'RURAL', 'MÚSICA'],
            ['205036000083', 'INSTITUCION EDUCATIVA LOS ANGELES', '205036000083', 'I. E. LOS ANGELES', 'RURAL', 'MÚSICA'],
            ['205036000083', 'INSTITUCION EDUCATIVA LOS ANGELES', '205036000113', 'SAN ISIDRO', 'RURAL', 'MÚSICA'],
            ['205036000083', 'INSTITUCION EDUCATIVA LOS ANGELES', '205036000121', 'EL BARRO', 'RURAL', 'MÚSICA'],
            ['205266000392', 'INSTITUCION EDUCATIVA LAS PALMAS', '205266000392', 'INSTITUCION EDUCATIVA LAS PALMAS', 'RURAL', 'MÚSICA'],
            ['205360001254', 'INSTITUCION EDUCATIVA MARIA JOSEFA ESCOBAR', '105360000172', 'INSTITUCIÓN EDUCATIVA MARÍA JOSEFA ESCOBAR-SEDE JUAN ECHEVERRY ABAD', 'RURAL', 'MÚSICA'],
            ['205360001254', 'INSTITUCION EDUCATIVA MARIA JOSEFA ESCOBAR', '205360001254', 'INSTITUCION EDUCATIVA MARIA JOSEFA ESCOBAR - SEDE PRINCIPAL', 'RURAL', 'MÚSICA'],
            ['105154000298', 'INSTITUCI?N EDUCATIVA SANTA TERESITA', '105154000298', 'I. E. SANTA TERESITA', 'URBANA', 'DANZA'],
            ['105154000298', 'INSTITUCION EDUCATIVA SANTA TERESITA', '105154001341', 'E U CAUCASIA', 'URBANA', 'DANZA'],
            ['105154000751', 'I. E. LA MISERICORDIA', '105154000751', 'E U LA MISERICORDIA', 'URBANA', 'MÚSICA'],
            ['105154000751', 'I. E. LA MISERICORDIA', '105154001812', 'E U I SAN RAFAEL', 'URBANA', 'MÚSICA'],
            ['105250000185', 'I. E. BIJAO', '105250000185', 'I. E. BIJAO', 'URBANA', 'MÚSICA'],
            ['105250000339', 'I. E. LAS DELICIAS', '105250000339', 'COLEGIO LAS DELICIAS', 'URBANA', 'MÚSICA'],
            ['105250000339', 'I. E. LAS DELICIAS', '105250001262', 'E U I LA VEGA', 'URBANA', 'MÚSICA'],
            ['105895001119', 'I. E. LUIS FERNANDO RESTREPO RESTREPO', '105895001119', 'I. E. LUIS FERNANDO RESTREPO RESTREPO', 'URBANA', 'DANZA'],
            ['123079000111', 'INSTITUCION EDUCATIVA SAGRADO CORAZON DE JESUS', '123079000111', 'IE SGDO CORAZON DE JESÙS', 'URBANA', 'MÚSICA'],
            ['123079000111', 'INSTITUCION EDUCATIVA SAGRADO CORAZON DE JESUS', '123079000137', 'ESC URB MIX CENTRAL', 'URBANA', 'MÚSICA'],
            ['123079000111', 'INSTITUCION EDUCATIVA SAGRADO CORAZON DE JESUS', '123079001095', 'ESC URB MIX CENTENARIO POLICIA NACIONAL', 'URBANA', 'MÚSICA'],
            ['123079000111', 'INSTITUCION EDUCATIVA SAGRADO CORAZON DE JESUS', '223079000069', 'ESC NVA NUEVA ESTACIÒN', 'RURAL', 'MÚSICA'],
            ['123079000111', 'INSTITUCION EDUCATIVA SAGRADO CORAZON DE JESUS', '223079000077', 'ESC NVA COSTA RICA', 'RURAL', 'MÚSICA'],
            ['123079000277', 'INSTITUCION EDUCATIVA MARISCAL SUCRE', '123079000277', 'IE MARISCAL SUCRE', 'URBANA', 'MÚSICA'],
            ['123079000277', 'INSTITUCION EDUCATIVA MARISCAL SUCRE', '123079000897', 'ESC URB LA ESTRELLA', 'URBANA', 'MÚSICA'],
            ['123079000277', 'INSTITUCION EDUCATIVA MARISCAL SUCRE', '223079000620', 'ESC NVA CAMPO SOLO', 'RURAL', 'MÚSICA'],
            ['123079000277', 'INSTITUCION EDUCATIVA MARISCAL SUCRE', '223079000662', 'ESC NVA VERACRUZ', 'RURAL', 'MÚSICA'],
            ['123079000277', 'INSTITUCION EDUCATIVA MARISCAL SUCRE', '223079000981', 'ESC NVA EL PARAISO', 'RURAL', 'MÚSICA'],
            ['205120000081', 'I. E. GUARUMO', '205120000081', 'COLEGIO GUARUMO', 'URBANA', 'MÚSICA'],
            ['205120000081', 'I. E. GUARUMO', '205120001095', 'COLEGIO PUENTE RIO MAN', 'RURAL', 'MÚSICA'],
            ['205120000366', 'I. E. AURELIO MEJIA', '205120000145', 'E R SAN JUDAS', 'RURAL', 'MÚSICA'],
            ['205120000366', 'I. E. AURELIO MEJIA', '205120000170', 'E R ASTURIAS', 'RURAL', 'MÚSICA'],
            ['205120000366', 'I. E. AURELIO MEJIA', '205120000366', 'COLEGIO AURELIO MEJIA', 'URBANA', 'MÚSICA'],
            ['205120000366', 'I. E. AURELIO MEJIA', '205120001087', 'E R LOS COMUNEROS', 'RURAL', 'MÚSICA'],
            ['205120000366', 'I. E. AURELIO MEJIA', '205120001249', 'E R SAN LORENZO', 'RURAL', 'MÚSICA'],
            ['205154001591', 'I.E.R. LAS MALVINAS', '205154001591', 'I.E.R LAS MALVINAS', 'RURAL', 'MÚSICA'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250000023', 'LICEO PUERTO CLAVER', 'RURAL', 'MÚSICA'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250000023', 'LICEO PUERTO CLAVER', 'RURAL', 'AUDIOVISUALES'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250000341', 'SANTA MARGARITA', 'RURAL', 'MÚSICA'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250000341', 'SANTA MARGARITA', 'RURAL', 'AUDIOVISUALES'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250000392', 'E U PUERTO CLAVER', 'RURAL', 'MÚSICA'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250000392', 'E U PUERTO CLAVER', 'RURAL', 'AUDIOVISUALES'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250000741', 'LA RICA', 'RURAL', 'MÚSICA'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250000741', 'LA RICA', 'RURAL', 'AUDIOVISUALES'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250001232', 'EL CASTILLO', 'RURAL', 'MÚSICA'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250001232', 'EL CASTILLO', 'RURAL', 'AUDIOVISUALES'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250001313', 'SANTA TERESA', 'RURAL', 'MÚSICA'],
            ['205250000023', 'I. E. R. PUERTO CLAVER', '205250001313', 'SANTA TERESA', 'RURAL', 'AUDIOVISUALES'],
        ];

        $campusesByDaneCode = [];

        foreach ($data as $row) {
            $schoolDaneCode = $row[0];
            $campusDaneCode = $row[2];
            $campusName = $row[3];
            $zone = strtolower($row[4]);
            $focalizationName = $row[5];

            if (!isset($campusesByDaneCode[$campusDaneCode])) {
                $campusesByDaneCode[$campusDaneCode] = [
                    'school_dane_code' => $schoolDaneCode,
                    'name' => $campusName,
                    'zone' => $zone,
                    'focalizations' => []
                ];
            }

            if (!in_array($focalizationName, $campusesByDaneCode[$campusDaneCode]['focalizations'])) {
                $campusesByDaneCode[$campusDaneCode]['focalizations'][] = $focalizationName;
            }
        }

        foreach ($campusesByDaneCode as $daneCode => $campusData) {
            $school = School::where('dane_code', $campusData['school_dane_code'])->first();

            if (!$school) {
                continue;
            }

            $campus = Campus::create([
                'name' => $campusData['name'],
                'dane_code' => $daneCode,
                'zone' => $campusData['zone'],
                'school_id' => $school->id,
            ]);

            $focalizationIds = [];
            foreach ($campusData['focalizations'] as $focalizationName) {
                $focalization = Focalization::where('name', $focalizationName)->first();
                if ($focalization) {
                    $focalizationIds[] = $focalization->id;
                }
            }

            $campus->focalizations()->attach($focalizationIds);
        }
    }
}
